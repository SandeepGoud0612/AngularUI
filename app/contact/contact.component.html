<p-messages [value]="msgs"></p-messages>
<p-dataTable [value]="contacts" [rows]="10" [paginator]="true" selectionMode="single" [responsive]="true" [(selection)]="selectedContact"
    (onRowSelect)="onRowSelect($event)">
    <header>Contacts</header>
    <p-column field="firstName" header="First Name" [sortable]="true" [filter]="true"></p-column>
    <p-column field="lastName" header="Last Name" [sortable]="true" [filter]="true"></p-column>
    <p-column field="email" header="Email Id" [sortable]="true" [filter]="true"></p-column>
    <p-column field="contactGroup.name" header="Group Name" [sortable]="true" [filter]="true"></p-column>
    <footer>
        <div class="ui-helper-clearfix" style="width:100%">
            <button type="button" pButton style="float:left" (click)="createContactClick()" label="Create"></button>
            <button type="button" pButton style="float:left" (click)="showDialogToAdd()" label="Import"></button>
        </div>
    </footer>
</p-dataTable>

<p-dialog header="Contact Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="800">
    <div class="ui-grid ui-grid-responsive ui-fluid" style="font-size:16px; height: 200px;" *ngIf="contactNew">
        <div class="ui-grid-row">
            <div class="ui-grid-col-9">
                <div class="ui-grid ui-grid-responsive ui-grid-pad">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="firstName">First Name</label></div>
                        <div class="ui-grid-col-8">
                            <input [readonly]="readonlyDialog" pInputText id="firstName" [(ngModel)]="contactNew.firstName" />
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="lastName">Last Name</label></div>
                        <div class="ui-grid-col-8"><input [readonly]="readonlyDialog" pInputText id="lastName" [(ngModel)]="contactNew.lastName" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="email">Email Id</label></div>
                        <div class="ui-grid-col-8"><input pInputText [readonly]="readonlyDialog" id="email" [(ngModel)]="contactNew.email" /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="groupName">Group Name</label></div>
                        <div class="ui-grid-col-8" *ngIf="readonlyDialog">
                            <input pInputText [readonly]="readonlyDialog" id="groupName" [(ngModel)]="contactNew.contactGroup.name" />
                        </div>
                        <div class="ui-grid-col-8" *ngIf="!readonlyDialog">
                            <p-dropdown [readonly]="readonlyDialog" id="groupName" [options]="contactGroups" [(ngModel)]="contactNew.contactGroup"
                                [style]="{'width':'150px'}"></p-dropdown>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
            <button *ngIf="readonlyDialog" type="submit" pButton icon="fa-trash" (click)="deleteSelectedContact()" label="Delete"></button>
            <button *ngIf="readonlyDialog" type="button" pButton icon="fa-pencil" (click)="updateContactClick()" label="Edit"></button>
            <button *ngIf="!readonlyDialog && updateContact" type="button" pButton icon="fa-close" (click)="updateDialogCancelClick()"
                label="Cancel"></button>
            <button *ngIf="!readonlyDialog && createContact" type="button" pButton icon="fa-close" (click)="createDialogCancelClick()"
                label="Cancel"></button>
            <button *ngIf="!readonlyDialog && updateContact" type="submit" pButton icon="fa-check" (click)="updateContactSubmit()" label="Update"></button>
            <button *ngIf="!readonlyDialog && createContact" type="submit" pButton icon="fa-check" (click)="createContactSubmit()" label="Create"></button>
        </div>
    </footer>
</p-dialog>