<p-messages [value]="msgs"></p-messages>
<p-dataTable [value]="contactGroups" [rows]="10" [paginator]="true" selectionMode="single" [responsive]="true" (onRowSelect)="onRowSelect($event)">
    <header>Contacts</header>
    <p-column field="contact.firstName" header="First Name" [sortable]="true" [filter]="true"></p-column>
    <p-column field="contact.lastName" header="Last Name" [sortable]="true" [filter]="true"></p-column>
    <p-column field="contact.email" header="Email Id" [sortable]="true" [filter]="true"></p-column>
    <p-column field="group.name" header="Group Name" [sortable]="true" [filter]="true"></p-column>
    <p-column field="active" header="Active" [sortable]="true" [filter]="true"></p-column>
    <p-column field="unSubscribed" header="UnSubscribed" [sortable]="true" [filter]="true"></p-column>
    <footer>
        <div class="ui-helper-clearfix" style="width:100%">
            <button type="button" pButton style="float:left" (click)="createContactClick()" label="Create"></button>
            <button type="button" pButton style="float:left" (click)="showDialogToAdd()" label="Import"></button>
        </div>
    </footer>
</p-dataTable>

<p-dialog header="Contact Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="800">
    <div class="ui-grid ui-grid-responsive ui-fluid" style="font-size:16px; height: 200px;" *ngIf="contactGroupSelected">
        <div class="ui-grid-row">
            <div class="ui-grid-col-9">
                <div class="ui-grid ui-grid-responsive ui-grid-pad">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="firstName">First Name</label></div>
                        <div class="ui-grid-col-8">
                            <input [readonly]="readonlyDialog" pInputText id="firstName" [(ngModel)]="contactGroupSelected.contact.firstName" />
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="lastName">Last Name</label></div>
                        <div class="ui-grid-col-8"><input [readonly]="readonlyDialog" pInputText id="lastName" [(ngModel)]="contactGroupSelected.contact.lastName"
                            /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="email">Email Id</label></div>
                        <div class="ui-grid-col-8"><input pInputText [readonly]="readonlyDialog" id="email" [(ngModel)]="contactGroupSelected.contact.email"
                            /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="email">Group Name</label></div>
                        <div class="ui-grid-col-8"><input pInputText [readonly]="readonlyDialog" id="email" [(ngModel)]="contactGroupSelected.group.name"
                            /></div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="active">Active</label></div>
                        <div class="ui-grid-col-8">
                            <input pInputText [readonly]="readonlyDialog" id="active" [(ngModel)]="contactGroupSelected.active" />
                        </div>
                    </div>
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-4"><label for="unSubscribed">UnSubscribed</label></div>
                        <div class="ui-grid-col-8">
                            <input pInputText [readonly]="readonlyDialog" id="unSubscribed" [(ngModel)]="contactGroupSelected.unSubscribed" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
            <button *ngIf="readonlyDialog" type="submit" pButton icon="fa-trash" (click)="deleteSelectedContact()" label="Delete"></button>
            <button *ngIf="readonlyDialog" type="button" pButton icon="fa-pencil" (click)="updateContactClick()" label="Edit"></button>
            <button *ngIf="!readonlyDialog && updateContact" type="button" pButton icon="fa-close" (click)="updateDialogCancelClick()"
                label="Cancel"></button>
            <button *ngIf="!readonlyDialog && createContact" type="button" pButton icon="fa-close" (click)="createDialogCancelClick()"
                label="Cancel"></button>
            <button *ngIf="!readonlyDialog && updateContact" type="submit" pButton icon="fa-check" (click)="updateContactSubmit()" label="Update"></button>
            <button *ngIf="!readonlyDialog && createContact" type="submit" pButton icon="fa-check" (click)="createContactSubmit()" label="Create"></button>
        </div>
    </footer>
</p-dialog>